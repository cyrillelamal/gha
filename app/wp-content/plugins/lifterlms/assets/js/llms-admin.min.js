!function(n){window.llms=window.llms||{},window.llms.widgets=function(){return this.$widgets=n(".llms-widget"),this.$info_toggles=n(".llms-widget-info-toggle"),this.init=function(){this.bind()},this.bind=function(){this.$info_toggles.on("mouseenter mouseleave",function(e){n(this).closest(".llms-widget").toggleClass("info-showing","mouseenter"===e.type)})},this.init(),this};new window.llms.widgets;n.fn.llmsPostsSelect2=function(t){var l=this,e=(t=t||{},{multiple:!1,placeholder:void 0!==LLMS.l10n?LLMS.l10n.translate("Select a Course/Membership"):"Select a Course/Membership",post_type:l.attr("data-post-type")||"post",post_statuses:l.attr("data-post-statuses")||"publish",instructor_id:null,allow_clear:l.attr("data-post-type")||!1,width:null});n.each(e,function(e){l.attr("data-"+e)&&(t[e]=l.attr("data-"+e))}),"multiple"===l.attr("multiple")&&(t.multiple=!0),t=n.extend(e,t),this.llmsSelect2({allowClear:t.allow_clear,ajax:{dataType:"JSON",delay:250,method:"POST",url:window.ajaxurl,data:function(e){return{action:"select2_query_posts",page:e.page?e.page-1:0,post_type:t.post_type,instructor_id:t.instructor_id,post_statuses:t.post_statuses,term:e.term,_ajax_nonce:window.llms.ajax_nonce}},processResults:function(e,t){return{results:function t(e){return Array.isArray(e)?n.map(e,function(e){return{text:(t=e).name,id:t.id};var t}):n.map(e,function(e){return{text:e.label,children:t(e.items)}})}(e.items),pagination:{more:e.more}}}},cache:!0,placeholder:t.placeholder,multiple:t.multiple,width:t.width})},n("select.llms-posts-select2").llmsPostsSelect2(),n.fn.llmsStudentsSelect2=function(t){var l=this,e=(t=t||{},{allow_clear:!1,enrolled_in:"",multiple:!1,not_enrolled_in:"",placeholder:void 0!==LLMS.l10n?LLMS.l10n.translate("Select a student"):"Select a student",roles:"",width:"100%"});return n.each(e,function(e){l.attr("data-"+e)&&(t[e]=l.attr("data-"+e))}),t=n.extend(e,t),this.llmsSelect2({allowClear:t.allow_clear,ajax:{dataType:"JSON",delay:250,method:"POST",url:window.ajaxurl,data:function(e){return{_ajax_nonce:window.llms.ajax_nonce,action:"query_students",page:e.page,not_enrolled_in:e.not_enrolled_in||t.not_enrolled_in,enrolled_in:e.enrolled_in||t.enrolled_in,roles:e.roles||t.roles,term:e.term}},processResults:function(e,t){return{results:n.map(e.items,function(e){return{text:e.name+" <"+e.email+">",id:e.id}}),pagination:{more:e.more}}}},cache:!0,placeholder:t.placeholder,multiple:t.multiple,width:t.width}),this},window.llms.emailConnectors={registerClient:function(e,t){var i=document.createElement("form");i.setAttribute("method","POST"),i.setAttribute("action",e),n.each(t,function(e,t){var l,n,s;l=e,n=t,(s=document.createElement("input")).setAttribute("type","hidden"),s.setAttribute("name",l),s.setAttribute("value",n),i.appendChild(s)}),document.body.appendChild(i),i.submit()},remoteInstall:function(l,e,t){l.parent().find(".llms-error").remove(),n.post(ajaxurl,e,t).fail(function(e){LLMS.Spinner.stop(l);var t=e.responseJSON&&e.responseJSON.message?e.responseJSON.message:e.responseText;t&&n('<p class="llms-error">'+LLMS.l10n.replace("Error: %s",{"%s":t})+"</p>").insertAfter(l)})}}}(jQuery);
//# sourceMappingURL=../maps/js/llms-admin.min.js.map
